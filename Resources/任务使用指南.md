# 🛠️ VS Code 任务使用指南

## 🚀 如何使用任务

1. 按 `Ctrl+Shift+P` 打开命令面板
2. 输入 "Tasks: Run Task"
3. 选择要执行的任务

## 📋 可用任务列表

### 📝 创建今日笔记
**用途**: 自动创建今天的日记文件  
**位置**: `ZK/00-Inbox/YYYY-MM-DD.md`  
**功能**: 
- 检查今日笔记是否已存在
- 如果不存在，创建包含标准模板的新文件
- 在当前VS Code窗口中自动打开文件进行编辑

**使用场景**: 每天开始工作时快速创建日记

---

### 📦 整理收集箱
**用途**: 查看收集箱中的所有文件及其创建时间  
**功能**:
- 按时间倒序列出收集箱中的所有文件
- 显示文件的创建时间（今天/X天前）
- 提供整理建议

**使用场景**: 每周回顾收集箱，决定哪些内容需要整理

---

### 🔍 查找孤立笔记
**用途**: 找出没有被其他笔记链接的"孤岛"笔记  
**功能**:
- 扫描所有笔记文件
- 分析双向链接 `[[]]` 
- 列出没有被引用的笔记

**使用场景**: 定期检查，确保重要笔记都有适当的连接

---

### 📊 标签统计
**用途**: 统计所有笔记中标签的使用频率  
**功能**:
- 扫描所有笔记的 YAML front matter
- 统计每个标签的使用次数
- 按使用频率排序显示

**使用场景**: 了解标签使用情况，优化分类体系

---

### 🚀 快速创建项目
**用途**: 交互式创建新项目文件夹和模板  
**功能**:
- 提示输入项目名称
- 自动创建项目文件夹
- 生成标准项目模板文件
- 在当前VS Code窗口中自动打开编辑

**使用场景**: 启动新项目时快速搭建结构

---

### 💾 备份到Git
**用途**: 快速提交所有更改到Git仓库  
**功能**:
- 检查是否存在Git仓库
- 添加所有更改文件
- 自动生成时间戳提交信息
- 执行提交操作

**使用场景**: 定期备份笔记，或在重要更改后保存

---

### 🧹 清理临时文件
**用途**: 清理系统生成的临时文件  
**功能**:
- 查找临时文件（.tmp, .bak, ~结尾等）
- 删除系统缓存文件（Thumbs.db, .DS_Store）
- 统计清理的文件数量

**使用场景**: 定期维护，保持目录整洁

---

### 📈 知识网络报告
**用途**: 生成知识库的统计报告  
**功能**:
- 统计总笔记数和链接数
- 计算平均链接密度
- 找出被引用最多的热门笔记
- 分析知识网络的连接性

**使用场景**: 定期分析知识库健康度，发现重要节点

## 💡 使用建议

### 日常工作流
1. **开始工作**: 运行"创建今日笔记"
2. **每周回顾**: 运行"整理收集箱" → "查找孤立笔记"
3. **每月分析**: 运行"标签统计" → "知识网络报告"
4. **重要时刻**: 运行"备份到Git"

### 快捷方式
将常用任务绑定到快捷键：
```json
{
  "key": "ctrl+shift+alt+t",
  "command": "workbench.action.tasks.runTask",
  "args": "📝 创建今日笔记"
}
```

### 自定义任务
可以基于现有任务模板创建自己的任务：
- 修改PowerShell脚本内容
- 调整输出格式和颜色
- 添加新的功能逻辑

## 🐛 故障排除

### ✅ 新版本优势 (Python版本)

**🐍 现已升级为Python脚本**：
- ✅ **跨平台兼容**：Windows、macOS、Linux都可以运行
- ✅ **更易维护**：Python代码比PowerShell更清晰易懂
- ✅ **更好的错误处理**：异常信息更详细，调试更容易
- ✅ **彩色输出**：使用ANSI颜色代码，终端显示更美观
- ✅ **模块化设计**：通用功能抽取到utils.py，便于复用

### 💡 系统要求

**Python环境**：需要Python 3.6或更高版本
```bash
python --version  # 检查Python版本
```

**VS Code命令**：确保VS Code的`code`命令在PATH中
```bash
code --version  # 检查VS Code命令
```

### 🔧 可能的问题

**问题**: "python不是内部或外部命令"  
**解决**: 确保Python已安装并添加到PATH，或将tasks.json中的`python`改为`python3`

**问题**: 编码问题（中文乱码）  
**解决**: 所有Python脚本都使用UTF-8编码，终端需要支持UTF-8

**问题**: 脚本执行权限  
**解决**: 确保`.vscode/scripts/`目录下的Python文件有执行权限

**问题**: VS Code无法自动打开文件  
**解决**: 检查VS Code是否在PATH中，或手动打开生成的文件

### 🧪 测试任务是否正常

测试Python环境：
```bash
python .vscode/scripts/utils.py
```

测试单个任务：
```bash
python .vscode/scripts/create_daily_note.py
```

### 📁 文件结构

```
.vscode/scripts/
├── utils.py                    # 通用工具模块
├── create_daily_note.py        # 创建今日笔记
├── organize_inbox.py           # 整理收集箱
├── find_orphaned_notes.py      # 查找孤立笔记
├── tag_statistics.py           # 标签统计
├── create_project.py           # 快速创建项目
├── backup_to_git.py            # 备份到Git
├── cleanup_temp_files.py       # 清理临时文件
└── knowledge_network_report.py # 知识网络报告
```

---

💡 **提示**: Python版本更稳定可靠，支持所有操作系统！如果遇到问题，请检查Python环境配置。 